<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script>
		
		function match_lists() {
			var urls = $('textarea[name=url_list]').val().split('\n');
			var urls_match = [];
			
			var regexs = $('textarea[name=regex_list]').val().split('\n');
			var regexs_match = [];
			
			for (i = 0; i < urls.length; i++) {
				urls_match[i] = "None";
				for (j = 0; j < regexs.length; j++) {
					var re = new RegExp(regexs[j]); //adding extra slashes - need to figure out how to remove
					/*
					var flags = inputstring.replace(/.*\/([gimy]*)$/, '$1');
					var pattern = inputstring.replace(new RegExp('^/(.*?)/'+flags+'$'), '$1');
					var regex = new RegExp(pattern, flags);
					*/
					var match_urls = re.test(urls[i]);
					if (match_urls) {
						if (urls_match[i] == "None") {
							urls_match[i] = regexs[j];
						} else {
							urls_match[i] = urls_match[i] + "<br>" + regexs[j];
						}
					}
				}
			}
			
			for (i = 0; i < regexs.length; i++) {
				regexs_match[i] = "None";
				for (j = 0; j < urls.length; j++) {
					var re = new RegExp(regexs[i]);
					var match_regexs = re.test(urls[j]);
					if (match_regexs) {
						if (regexs_match[i] == "None") {
							regexs_match[i] = urls[j];
						} else {
							regexs_match[i] = regexs_match[i] + "<br>" + urls[j];
						}
					}
				}
			}
			
			$('#id_urls').html(regexs_match);
			$('#id_regexs').html(urls_match);		
		}
			
		</script>
	</head>	
	<body>
		<table align="center">
			<tr>
				<td>
					<p><font family="Verdana">Paste URLs here</font></p>
				</td>
				<td>
					<p><font family="Verdana">Paste RexEx's here</font></p>
				</td>
			</tr>
			<tr>
				<td>
					<textarea name="url_list" rows="25" cols="50"></textarea>
				</td>
				<td>
					<textarea name="regex_list" rows="25" cols="50"></textarea>
				</td>
			</tr>
			<tr>
				<td colspan="2" align="center">
					<input type="submit" onclick="match_lists();">
				</td>
			</tr>
			<tr>
				<td>
					<p><font family="Verdana">URLs:</font></p>
				</td>
				<td>
					<p><font family="Verdana">Matching RegEx's:</font></p>
				</td>
			</tr>
			<tr>
				<td>
					<p id="id_urls"></p>
				</td>
				<td>
					<p id="id_regexs"></p>
				</td>
			</tr>
		</table>
	</body>
</html>
